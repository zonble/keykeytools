<div id="content">
	<p class="category">Yahoo! 奇摩輸入法</p>
	<h2 class="page_title">
		一點通編輯程式
	</h2>

	<div id="onekey_block">
		<p>請從「可選用項目」中挑選您想要使用的項目，拖至「已選用項目」中。</p>
		<div id="available_items">
			<h3>可選用項目</h3>
			{{ html_list }}
		</div>
		<form action="/onekey" method="post">
		<div id="selected_items">
			<h3>已選用項目</h3>
			<ul id="sortable">
			</ul>
		</div>
	</div>
	<p><input type="submit" name="submit" value="產生選單設定檔" id="some_name"></p>
	</form>


	<div class="help">
		<h3>使用說明</h3>
		<h4>什麼是一點通？</h4>
		<h4>將產生的設定檔案複製到正確目錄</h4>
	</div>

	<script type="text/javascript" charset="utf-8">
	$(function() {
		$("#sortable").sortable({
			revert: true
		});
		$("#sortable").droppable({
			 drop: function(ev, ui) {
			 	var item = ui.draggable;
			 	var remove_link = item.find(".remove_link");
			 	// remove_link.css({color:"red"});
			 	remove_link.click( function() {
				 	deleteItem(item);
				 	return false;
			 	});
			}
		});
		$(".draggable").draggable({
			connectToSortable: '#sortable',
			helper: 'clone',
			revert: 'invalid'
		});
		$(".draggable").droppable({
			 drop: function(ev, ui) {
			 	deleteItem(ui.draggable);			 	
			}			
		});
		
		function deleteItem($item) {
			$item.fadeOut(function() {
				$item.remove();
			});
		}
	});	
	</script>
	<style type="text/css" media="screen">
		#onekey_block {
			overflow: auto;
			font-size: 10pt;
		}
		#onekey_block h3 {
			font-size: 10pt;
			margin: 0;
		}
		#available_items {
			float: left;
		}
		#selected_items {
			float: right;
		}
		#available_items, #selected_items {
			padding: 10px;
			width: 300px;
			border: 1px solid #CCC;
			background: #003;
			color: white;
			margin: 0;
		}
		#available_items ul, #selected_items ul {
			border: 1px outset #CCC;
			height: 250px;
			overflow: auto;
			background: #334;
			color: black;
			padding: 0;
			margin: 10px 0 0 0;
		}
		#onekey_block  ul li {
			display: block;
			border: 1px solid white;
			background: #CCC;
			margin: 3px;
			padding: 2px 5px;
			width: 280px;
		}
		#available_items .remove_link {
			display: none;
		}
	</style>
	
</div>
